2020-05-22
07 . 서브 쿼리
SELECT 절
FROM 절
WHERE 절
총 세 곳에 위치할 수 있다.
SELECT절 = select 절에서 사용되며, 단일 값을 반환(select 결과 단일행 단일값)하기 떄문에 스칼라 부속질의라고 함.
(select 결과는 또 다른 table)
FROM절  =  from 절에서 사용. 결과를 출력, 뷰형태로 반환

WHERE절 = where 절에 술어와 같이 사용되며 결과를 한정시키기 위해 사용됨. 상관 혹은 비상관 형태.

서브 쿼리의 기본 개념.
서브 쿼리는 하나의 select 문장의 절 안에 포함된 또 하나의 select 문장입니다.
서브 쿼리는 비교 연산자의 오른쪽에 기술해야 하고 반드시 괄호로 둘러쌓아야 한다.
서브 쿼리는 메인 쿼리가 실행되기 이전에 한번만 실행이 된다.
서브 쿼리는 계속해서 무한정 사용이 가능하나, 성능적인 문제로 인해 최대 3개를 넘기지는 않는 편이다.

단일 행 서브 쿼리
단일 행 서브 쿼리는 수행 겨로가가 오직 하나의 로우(행)만을 반환하는 서브 쿼리를 갖는 것을 말한다.
단일 행 서브 쿼리문에서는 이렇게 오직 하나의 로우(행)로 반환되는 서브 쿼리의 결과는 메인 쿼리에 보내게
되는데 메인 쿼리의 where절에서는 단일 행 비교 연산자인  =,>,<,...를 사용해야 한다.

다중 행 서브 쿼리
종류
IN
ANY,SOME
ALL
EXIST

ALL 연산자 
ALL 조건은 메인 쿼리의 비죠 조건이 서부 쿼리의 검색 결과와 모든 값이 일치하면 참입니다.
찾아진 값에 대해서 AND 연산을

ANY 연산자
ANY는 찾아진 값에 대해서 하나라도 크면 참이 되는 값

ROWNUM
내장 함수는 아니지만 자주 사용되는 문법
오라클에서 내부적으로 생성되는 가상 컬럼으로 SQL 조회 결과의 순번을 나타냄.

스칼라 부속질의
select 절에서 사용되는 부속질의로, 부속질의의 결과 값을 단일 행, 단일 열의 스칼라 값으로 반환함.
그러나 데이터가 많아지면 많아 질 수록 해당 select 부속질의를 여러 번 실행 함으로써 성능이 급격하게
하락할 수 있으므로 , 개념만 알아가는 것도 충분함.

UPDATE - SET
테이블의 칼럼을 모두 바꿔줄 수 있음.

인라인 뷰 - FROM 부속질의
다중 행 , 다중 열이어도 상관 없음. , from 절에서 테이블을 재정의.

중첩질희 - WHERE 부속질의


